
<!DOCTYPE html>
<html>
  <head>

    <title>Running the Test Suite - Scala Documentation</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link rel="icon" type="image/png" href="/resources/favicon.ico">

    <!-- prettify js and CSS -->
    <link rel="stylesheet" href="/resources/stylesheets/prettify.css" type="text/css" />
    <script src="/resources/javascript/prettify/prettify.js" type="text/javascript" ></script>

    <!-- jquery js -->
    <script src="/resources/javascript/jquery.js" type="text/javascript" ></script>
    <script src="/resources/javascript/effects.core.js" type="text/javascript" ></script>
    <script src="/resources/javascript/effects.highlight.js" type="text/javascript" ></script>
    <script src="/resources/javascript/moveScroller.js" type="text/javascript" ></script>

    <!-- Bootstrap JS and CSS -->
    <link rel="stylesheet" href="/resources/stylesheets/bootstrap.css" type="text/css" />
	<script src="/resources/javascript/bootstrap-dropdown.js" type="text/javascript" ></script>
	<script src="/resources/javascript/bootstrap-dropdown-app.js" type="text/javascript" ></script>	

    <!-- Base stylesheet for all pages -->
    <link rel="stylesheet" href="/resources/stylesheets/base.css" type="text/css" />

    <!-- You may want to change the paths below, according to your own CSS and JavaScript setup -->
    <script type="text/javascript" src="/resources/javascript/jquery.easing.js"></script>
    <script type="text/javascript" src="/resources/javascript/jquery.accordionza.js"></script>
    <script src="/resources/javascript/frontpage.js" type="text/javascript" ></script>

    <!-- table of contents js -->
    <script src="/resources/javascript/toc.js" type="text/javascript" ></script>

    <!-- google analytics -->
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-574683-5']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>


    <!-- prettyprint js to prepend generated pre/code tags -->
   <script type="text/javascript">
      function styleCode() 
        {
          if (typeof disableStyleCode != "undefined") 
          {
              return;
          }
          var a = false;
          $("pre code").parent().each(function() 
          {
              if (!$(this).hasClass("prettyprint")) 
              {
                  $(this).addClass("prettyprint lang-scala linenums");
                  a = true
              }
          });
          if (a) { prettyPrint() } 
      }
    </script>

    <script type="text/javascript">
      jQuery(document).ready(function($) {

            $(".scroll").click(function(event){		
              event.preventDefault();
              $('html,body').animate({scrollTop:$(this.hash).offset().top}, 500);
              $('html,body').animate({scrollTop:$(this.hash).offset().top-=50}, 500);
              $(this.hash).effect("highlight", {color: "#FFCC85"}, 3000);
            });
      });
    </script>


    <style type="text/css">
      html, body {
	     padding-top: 36px; 
	     height: 100%;
	     background:url(/resources/images/bg-short.jpg) no-repeat top center #310808; 	 	 
		  -webkit-box-shadow: inset 0 10px 50px rgba(0,0,0,.6);
		     -moz-box-shadow: inset 0 10px 50px rgba(0,0,0,.6);
		/*          box-shadow: inset 0 10px 30px rgba(0,0,0,.3);*/
	  }

      input, textarea, select, .uneditable-input {
	       width: 165px;
	   }
		
	  .scrollingmenu {
		  width: 940px;
		  margin-left: auto;
		  margin-right: auto;
		  height: 70px;
		  zoom: 1;		
	}
	.scrollingmenu h1 {
      padding-bottom: 30px;
	  color: #ffffff;
	  font-size: 42px;
	  line-height: 1;
	  text-shadow: 0 1px 2px rgba(0,0,0,.5);
	}
    .container {
	   min-height: 100%;
    }
    .bottom {
	   min-height: 100%;
	   background-color: #ffffff;
	   padding-top: 20px;
	   border-top: 1px solid #8e397d;
	}
	.bottom h1,h2,h3 {
		text-shadow: 0 1px 2px rgba(255,255,255,.5);
	}
	.bottom h1,h2,h3 a {
                color: #404040;
		text-shadow: 0 1px 2px rgba(255,255,255,.5);
	}

	.bottom small {
                color: #808080;
		text-shadow: 0 1px 1px rgba(255,255,255,.5);
	}

	.bottom p.under {
                color: #808080;
		text-shadow: 0 1px 1px rgba(255,255,255,.5);
		font-size: 18px;
		line-height: 36px;
		margin-top: -25px;
	}

        .bottom ul.thanks {
                margin: 10px 0 4px 25px;
                list-style: square;
        }

        .bottom ul.thanks li {
                color: #404040;
                font-size: 16px;
                line-height: 22px;
                margin: 0px;
         }

        .page-header-index{margin-bottom:17px;border-bottom:1px solid #808080;-webkit-box-shadow:0 1px 0 rgba(255, 255, 255, 0.5);-moz-box-shadow:0 1px 0 rgba(255, 255, 255, 0.5);box-shadow:0 1px 0 rgba(255, 255, 255, 0.5);}

       p.contents {
           font-weight: bold;
           font-size: 16px;
       }

       div#toc ul {
           list-style: none;
       }

       div#toc ul a {
           display: block;
           list-style: none;
           line-height: 22px;
           font-weight: bold;
           width: 100%;
       }

      div#toc ul li ul {
           list-style: disc;
      }

      div#toc ul li ul a {
           line-height: 18px;
           font-weight: normal;
      }

      div#toc ul li ul li ul {
           list-style: square;
      }
       div#toc ul li ul li ul a {
       }

       div#scroller-anchor {
           width: inherit;
       }

       div#scroller {
           width: inherit;
       }

       p#about {
      	 margin-top: -8px;
         padding-left: 14px;
       }

       ul {
	     margin-left: 15px;
       }


   </style>

</head>
  <body>


<div class="wrapper">
      <!-- Topbar
    ================================================== -->
<div class="topbar">
    <div class="topbar-inner">
        <div class="container">
            <a class="brand" href="/index.html"><img src="/resources/images/scala-logo.png"> Documentation</a>
            <ul class="nav">

                <li class="menu">
                      <a href="#" class="menu">API</a>
                      <ul class="menu-dropdown">
                        <li><a href="http://www.scala-lang.org/api/current/">Current</a></li>
                        <li><a href="http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/library/index.html">Nightly</a></li>
                        <!--<li class="divider"></li>
                        <li><a href="#">Previous Versions</a></li>
                        -->
                      </ul>
                </li>

                <li class="menu">
                      <a href="#" class="menu">Learn</a>
                      <ul class="menu-dropdown">
                        <li><a href="/overviews">Guides & Overviews</a></li>
                        <li><a href="/tutorials">Tutorials</a></li>
                        <li><a href="/style">Scala Style Guide</a></li>
                      </ul>
                </li>

                <li class="menu">
                      <a href="#" class="menu">Quickref</a>
                      <ul class="menu-dropdown">
                        <li><a href="/glossary">Glossary</a></li>
                        <li><a href="/cheatsheets">Cheatsheets</a></li>
                      </ul>
                </li>

                <li><a href="/contribute.html">Contribute</a></li>
                <li><a href="/sips">SIPs</a></li>
                <li><a href="http://wiki.scala-lang.org">Wiki</a></li>
          </ul>
          <form method="get" id="searchform" action="/search.html">
            <input type="text" placeholder="Search"  class="field" name="q" id="q"/>
          </form>
           </li>
          </ul>
        </div>
    </div>
</div>

  <header class="scrollingmenu">
    <h1>Running the Test Suite</h1>
  </header>

  <div class="bottom">
    <div class="container">
      <div class="row">

        <div class="span11">
          <p>Partest is a custom parallel testing tool that we use to run the test suite for the Scala compiler and library. Go the scala project folder from your local checkout and run it via <code>ant</code> or standalone as follows.</p>

<h2 id='using_ant'>Using ant</h2>

<p>The test suite can be run by using ant from the command line:</p>

<pre><code>$ ant test.suite</code></pre>

<h2 id='standalone'>Standalone</h2>

<p>There are launch scripts <code>partest</code> and <code>partest.bat</code> in the <code>test</code> folder of the scala project. To have partest run failing tests only and print details about test failures to the console, you can use</p>

<pre><code>./test/partest --show-diff --show-log --failed</code></pre>

<p>You can get a summary of the usage by running partest without arguments.</p>

<ul>
<li>
<p>Most commonly you want to invoke partest with an option that tells it which part of the tests to run. For example <code>--all</code>, <code>--pos</code>, <code>--neg</code> or <code>--run</code>.</p>
</li>

<li>
<p>You can test individual files by specifying individual test files (<code>.scala</code> files) as options. Several files can be tested if they are from the same category, e.g., <code>pos</code>.</p>
</li>

<li>
<p>You can enable output of log and diff using the <code>-show-log</code> and <code>-show-diff</code> options.</p>
</li>

<li>
<p>If you get into real trouble, and want to find out what partest does, you can run it with option <code>--verbose</code>. This info is useful as part of bug reports.</p>
</li>

<li>
<p>Set custom path from where to load classes: <code>-classpath &lt;path&gt;</code> and <code>-buildpath &lt;path&gt;</code>.</p>
</li>

<li>
<p>You can use the <code>SCALAC_OPTS</code> environment variable to pass command line options to the compiler.</p>
</li>

<li>
<p>You can use the <code>JAVA_OPTS</code> environment variable to pass command line options to the runner (e.g., for <code>run/jvm</code> tests).</p>
</li>

<li>
<p>The launch scripts run partest as follows:</p>

<pre><code>scala -cp &lt;path to partest classes&gt; scala.tools.partest.nest.NestRunner &lt;options&gt;</code></pre>

<p>Partest classes from a <code>quick</code> build, e.g., can be found in <code>./build/quick/classes/partest/</code>.</p>

<p>Partest will tell you where it loads compiler/library classes from by adding the <code>partest.debug</code> property:</p>

<pre><code>scala -Dpartest.debug=true -cp &lt;path to partest classes&gt; scala.tools.partest.nest.NestRunner &lt;options&gt;</code></pre>
</li>
</ul>

<h2 id='scalacheck_tests'>ScalaCheck tests</h2>

<p>Tests that depend on <a href='https://github.com/rickynils/scalacheck'>ScalaCheck</a> can be added under folder <code>./test/files/scalacheck</code>. A sample test:</p>

<pre><code>import org.scalacheck._
import Prop._

object Test {
	val prop_ConcatLists = property{ (l1: ListInt, l2: ListInt) =&gt;
		l1.size + l2.size == (l1 ::: l2).size 
	}

	val tests = List((&quot;prop_ConcatLists&quot;, prop_ConcatLists))
}</code></pre>

<h2 id='troubleshooting'>Troubleshooting</h2>

<h3 id='windows'>Windows</h3>

<p>Some tests might fail because line endings in the <code>.check</code> files and the produced results do not match. In that case, set either</p>

<pre><code>git config core.autocrlf false </code></pre>

<p>or</p>

<pre><code>git config core.autocrlf input </code></pre>
        </div>

        <div class="span5">
          <div id="scroller-anchor">
  <div id="scroller">
    <p class="contents">Contents</p>
    <div id="toc"></div>
  </div>
</div>

        </div>
    
      </div>
	
    </div>
  </div>
  <div class="push"></div>
</div>

<div class="footer">
	<div class="container">
		<ul>
			<li><h5>API</h5></li>
			<li><a href="http://www.scala-lang.org/api/current/">Current</a></li>
			<li><a href="http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/library/index.html">Nightly</a></li>
		</ul>
		<ul>
			<li><h5>Learn</h5></li>
			<li><a href="/overviews">Guides & Overviews</a></li>
			<li><a href="/tutorials">Tutorials</a></li>
			<li><a href="/style">Scala Style Guide</a></li>				
		</ul>
		<ul>
			<li><h5>Quickref</h5></li>
			<li><a href="/glossary">Glossary</a></li>
			<li><a href="/cheatsheets">Cheatsheets</a></li>
		</ul>
		<ul>
			<li><h5>Contribute</h5></li>
			<li><a href="http://github.com/scala/scala.github.com">Source Code</a></li>
			<li><a href="/contribute.html">Contributors Guide</a></li>
			<li><a href="http://getsatisfaction.com/scaladocs">Suggestions</a></li>			
		</ul>
		<ul>
			<li><h5>Other Resources</h5></li>
			<li><a href="http://wiki.scala-lang.org">Wiki</a></li>
			<li><a href="/sips">Scala Improvement Process</a></li>				
		</ul>						
	</div>
	<div class="container copyright">
 		<p>
			Copyright &copy; 2011-2013 EPFL. All rights reserved.
			<a href="https://github.com/scala/scala.github.com/commits/gh-pages.atom"><img align="right" height="20px" width="20px" src="/resources/images/rss.png" alt="RSS feed of updates to the github repo hosting this site"></a>
		</p>		
	</div>
</div>


<script type="text/javascript">
  $('#toc').toc({exclude: 'h1, h5, h6', context: '', autoId: true, numerate: false});
</script>

<script type="text/javascript">
  $(function() {
    moveScroller();
  });
</script>

  </body>
</html>

    
